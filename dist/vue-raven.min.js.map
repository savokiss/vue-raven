{"version":3,"file":"vue-raven.min.js","sources":["../node_modules/raven-js/plugins/vue.js","../src/index.js"],"sourcesContent":["/**\n * Vue.js 2.0 plugin\n *\n */\n\nfunction formatComponentName(vm) {\n  if (vm.$root === vm) {\n    return 'root instance';\n  }\n  var name = vm._isVue ? vm.$options.name || vm.$options._componentTag : vm.name;\n  return (\n    (name ? 'component <' + name + '>' : 'anonymous component') +\n    (vm._isVue && vm.$options.__file ? ' at ' + vm.$options.__file : '')\n  );\n}\n\nfunction vuePlugin(Raven, Vue) {\n  Vue = Vue || window.Vue;\n\n  // quit if Vue isn't on the page\n  if (!Vue || !Vue.config) return;\n\n  var _oldOnError = Vue.config.errorHandler;\n  Vue.config.errorHandler = function VueErrorHandler(error, vm, info) {\n    var metaData = {};\n\n    // vm and lifecycleHook are not always available\n    if (Object.prototype.toString.call(vm) === '[object Object]') {\n      metaData.componentName = formatComponentName(vm);\n      metaData.propsData = vm.$options.propsData;\n    }\n\n    if (typeof info !== 'undefined') {\n      metaData.lifecycleHook = info;\n    }\n\n    Raven.captureException(error, {\n      extra: metaData\n    });\n\n    if (typeof _oldOnError === 'function') {\n      _oldOnError.call(this, error, vm, info);\n    }\n  };\n}\n\nmodule.exports = vuePlugin;\n","import Raven from 'raven-js'\nimport RavenVue from 'raven-js/plugins/vue'\n\nconst plugin = {\n  install (Vue, options = {}) {\n    const _options = Object.assign({\n      dsn: options.dsn || '',\n      env: options.env || 'production',\n      version: options.version || '',\n      disableReport: options.disableReport || false,\n      disableVueReport: options.disableVueReport || false\n    }, options)\n\n    if (_options.disableReport) {\n      _options.dsn = ''\n      console.log('Sentry has disabled')\n    }\n\n    Raven.config(_options.dsn, {\n      environment: _options.env,\n      release: _options.version\n    })\n\n    if (!_options.disableVueReport) {\n      Raven.addPlugin(RavenVue, Vue)\n    }\n\n    Raven.install()\n\n    Vue.prototype.$raven = Raven\n  }\n}\n\nexport {\n  Raven\n}\n\nexport default plugin\n"],"names":["Raven","Vue","window","config","_oldOnError","errorHandler","error","vm","info","metaData","Object","prototype","toString","call","componentName","$root","name","_isVue","$options","_componentTag","__file","formatComponentName","propsData","lifecycleHook","captureException","extra","this","plugin","options","_options","_extends","dsn","env","version","disableReport","disableVueReport","log","addPlugin","RavenVue","install","$raven"],"mappings":";;;;;geA8CA,MA9BA,SAAmBA,EAAOC,GAIxB,IAHAA,EAAMA,GAAOC,OAAOD,MAGPA,EAAIE,OAAjB,CAEA,IAAIC,EAAcH,EAAIE,OAAOE,aAC7BJ,EAAIE,OAAOE,aAAe,SAAyBC,EAAOC,EAAIC,GAC5D,IAAIC,KAGuC,oBAAvCC,OAAOC,UAAUC,SAASC,KAAKN,KACjCE,EAASK,cAvBf,SAA6BP,GAC3B,GAAIA,EAAGQ,QAAUR,EACf,MAAO,gBAET,IAAIS,EAAOT,EAAGU,OAASV,EAAGW,SAASF,MAAQT,EAAGW,SAASC,cAAgBZ,EAAGS,KAC1E,OACGA,EAAO,cAAgBA,EAAO,IAAM,wBACpCT,EAAGU,QAAUV,EAAGW,SAASE,OAAS,OAASb,EAAGW,SAASE,OAAS,IAgBtCC,CAAoBd,GAC7CE,EAASa,UAAYf,EAAGW,SAASI,gBAGf,IAATd,IACTC,EAASc,cAAgBf,GAG3BR,EAAMwB,iBAAiBlB,GACrBmB,MAAOhB,IAGkB,mBAAhBL,GACTA,EAAYS,KAAKa,KAAMpB,EAAOC,EAAIC,MCtClCmB,oBACK1B,OAAK2B,4DACNC,EAAWC,OACVF,EAAQG,KAAO,OACfH,EAAQI,KAAO,qBACXJ,EAAQK,SAAW,iBACbL,EAAQM,gBAAiB,mBACtBN,EAAQO,mBAAoB,GAC7CP,GAECC,EAASK,kBACFH,IAAM,WACPK,IAAI,0BAGRjC,OAAO0B,EAASE,iBACPF,EAASG,YACbH,EAASI,UAGfJ,EAASM,oBACNE,UAAUC,EAAUrC,KAGtBsC,YAEF5B,UAAU6B,OAASxC"}